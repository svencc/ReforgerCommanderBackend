spring.application.name=RECOM

#SPRING BOOT SERVER CONFIG
server.port=80
server.compression.enabled=true
server.compression.mime-types=application/json,application/xml,text/html,text/xml,text/plain,text/css,application/javascript,image/svg+xml
server.compression.min-response-size=1024
spring.threads.virtual.enabled=true



#JPA DATASOURCE CONFIG:
spring.datasource.url=jdbc:h2:file:${recom.data-base-dir}/h2db/recomh2;AUTO_SERVER=TRUE;AUTO_SERVER_PORT=8034;USER=username;PASSWORD=password
spring.datasource.username=username
spring.datasource.password=password

spring.datasource.hikari.maximumPoolSize=40

# executes data.sql AFTER hibernate DDL; run data.sql on every startup (not only on first startup)
spring.sql.init.mode=always
# deactivate h2 web console!
spring.h2.console.enabled=false

spring.jpa.defer-datasource-initialization=true
spring.jpa.open-in-view=false
spring.jpa.show-sql=false
spring.jpa.generate-ddl=true
spring.jpa.hibernate.ddl-auto=validate

spring.jpa.properties.hibernate.generate_statistics=false

spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.format_sql.order_inserts=true
spring.jpa.properties.hibernate.format_sql.order_updates=true

spring.jpa.properties.hibernate.jdbc.batch_size=100
spring.jpa.properties.hibernate.jdbc.fetch_size=100
spring.jpa.properties.hibernate.jdbc.batch_versioned_data=true



#HIBERNATE CACHE: <!-- https://blog.coffeebeans.at/archives/1356 -->
spring.jpa.properties.hibernate.cache.use_query_cache=true
spring.jpa.properties.hibernate.cache.use_second_level_cache=true
spring.jpa.properties.hibernate.cache.region.factory_class=org.hibernate.cache.jcache.internal.JCacheRegionFactory

spring.jpa.properties.hibernate.javax.cache.provider=org.ehcache.jsr107.EhcacheCachingProvider
spring.jpa.properties.hibernate.javax.cache.uri=classpath:ehcache-hibernate.xml
#spring.jpa.properties.hibernate.javax.cache.uri=${new org.springframework.core.io.ClassPathResource("/META-INF/ehcache-hibernate.xml").getURI().toString()}
spring.jpa.properties.hibernate.javax.cache.missing_cache_strategy=create-warn
spring.jpa.properties.hibernate.javax.cache.sharedMode=ENABLE_SELECTIVE

#SPRING CACHE: <!-- https://blog.coffeebeans.at/archives/1356 -->
spring.cache.jcache.config=classpath:ehcache-spring.xml



#APPLICATION LOGGING;
logging.level.com.recom=ERROR
logging.level.org.hibernate.type=ERROR
logging.level.org.hibernate.SQL=ERROR
logging.level.com.vladmihalcea.hibernate.type.util.LogUtils=OFF



#RECOM APPLICATION PROPERTIES
recom.data-base-dir=${user.home}/RECOMBackend
recom.ehcache-base-dir=${recom.data-base-dir}/ehcache
recom.ehcache-appcache-base-dir=${recom.data-base-dir}/ehcache_appcache

recom.security.jwt-issuer=RECOM DEV Backend
recom.security.jwt-expiration-time=60m
recom.security.key-path=${recom.data-base-dir}/RECOMKey

recom.async.core-pool-size=1
recom.async.max-pool-size=10